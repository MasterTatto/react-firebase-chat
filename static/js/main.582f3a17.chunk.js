(this["webpackJsonpreact-firebase-chat"]=this["webpackJsonpreact-firebase-chat"]||[]).push([[0],{87:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t),n.d(t,"Context",(function(){return U}));var a=n(8),c=n(1),r=n(15),i=n.n(r),s=n(26),o=n(42),j=n(119),u=n(122),d=n(123),l=n(128),h="/login",b="/chat",p=n(30),x=function(){var e=Object(c.useContext)(U).auth,t=Object(p.a)(e),n=Object(s.a)(t,1)[0];return Object(a.jsx)(j.a,{color:"secondary",position:"static",children:Object(a.jsx)(u.a,{variant:"dense",children:Object(a.jsx)(d.a,{container:!0,justify:"flex-end",children:n?Object(a.jsx)(l.a,{onClick:function(){return e.signOut()},variant:"outlined",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(a.jsx)(o.b,{to:h,children:Object(a.jsx)(l.a,{variant:"outlined",children:"\u041b\u043e\u0433\u0438\u043d"})})})})})},O=n(17),f=n(40),g=n.n(f),m=n(50),v=n(124),y=n(127),w=n(29),C=function(){var e=Object(c.useContext)(U).auth,t=function(){var t=Object(m.a)(g.a.mark((function t(){var n,a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new w.a.auth.GoogleAuthProvider,t.next=3,e.signInWithPopup(n);case 3:a=t.sent,c=a.user,console.log(c);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(a.jsx)(v.a,{children:Object(a.jsx)(d.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(a.jsx)(d.a,{style:{width:400,background:"lightgray"},container:!0,alignItems:"center",direction:"column",children:Object(a.jsx)(y.a,{p:5,children:Object(a.jsx)(l.a,{onClick:t,variant:"outlined",children:"\u0412\u043e\u0439\u0442\u0438 \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e Google"})})})})})},I=n(129),k=n(125),A=n(64),L=function(){return Object(a.jsx)(v.a,{children:Object(a.jsx)(d.a,{container:!0,style:{height:window.innerHeight-50},alignItems:"center",justify:"center",children:Object(a.jsx)(d.a,{container:!0,alignItems:"center",direction:"column",children:Object(a.jsx)("div",{className:"lds-hourglass"})})})})},N=[{path:h,Component:C}],B=[{path:b,Component:function(){var e=Object(c.useContext)(U),t=e.auth,n=e.firestore,r=Object(p.a)(t),i=Object(s.a)(r,1)[0],o=Object(c.useState)(""),j=Object(s.a)(o,2),u=j[0],h=j[1],b=Object(A.a)(n.collection("messages").orderBy("createdAt")),x=Object(s.a)(b,2),O=x[0],f=x[1],y=function(){var e=Object(m.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.collection("messages").add({uid:i.uid,displayName:i.displayName,photoURL:i.photoURL,text:u,createdAt:w.a.firestore.FieldValue.serverTimestamp()}),h("");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f?Object(a.jsx)(L,{}):Object(a.jsx)(v.a,{children:Object(a.jsxs)(d.a,{container:!0,justify:"center",style:{height:window.innerHeight-50,marginTop:20},children:[Object(a.jsx)("div",{style:{width:"80%",height:"60vh",border:"1px solid gray",overflowY:"auto"},children:O.map((function(e){return Object(a.jsxs)("div",{style:{margin:10,border:i.uid===e.uid?"2px solid green":"2px dashed red",marginLeft:i.uid===e.uid?"auto":"10px",width:"fit-content",padding:5},children:[Object(a.jsxs)(d.a,{container:!0,children:[Object(a.jsx)(I.a,{src:e.photoURL}),Object(a.jsx)("div",{children:e.displayName})]}),Object(a.jsx)("div",{children:e.text})]})}))}),Object(a.jsxs)(d.a,{container:!0,direction:"column",alignItems:"flex-end",style:{width:"80%"},children:[Object(a.jsx)(k.a,{fullWidth:!0,rowsMax:2,variant:"outlined",value:u,onChange:function(e){return h(e.target.value)}}),Object(a.jsx)(l.a,{onClick:y,variant:"outlined",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]})})}}],G=function(){var e=Object(c.useContext)(U).auth,t=Object(p.a)(e);return Object(s.a)(t,1)[0]?Object(a.jsxs)(O.d,{children:[B.map((function(e){var t=e.path,n=e.Component;return Object(a.jsx)(O.b,{path:t,component:n,exact:!0},t)})),Object(a.jsx)(O.a,{to:b})]}):Object(a.jsxs)(O.d,{children:[N.map((function(e){var t=e.path,n=e.Component;return Object(a.jsx)(O.b,{path:t,component:n,exact:!0},t)})),Object(a.jsx)(O.a,{to:h})]})},R=(n(87),function(){var e=Object(c.useContext)(U).auth,t=Object(p.a)(e),n=Object(s.a)(t,3),r=(n[0],n[1]);n[2];return r?Object(a.jsx)(L,{}):Object(a.jsxs)(o.a,{children:[Object(a.jsx)(x,{}),Object(a.jsx)(G,{})]})});n(88),n(89);w.a.initializeApp({apiKey:"AIzaSyBUZbyQAgAjhtF41ncL9542CVR24oyNqag",authDomain:"chat-app-ba3f0.firebaseapp.com",projectId:"chat-app-ba3f0",storageBucket:"chat-app-ba3f0.appspot.com",messagingSenderId:"404954101638",appId:"1:404954101638:web:e03e29a17ce964a8f09e07",measurementId:"G-EZ15VKMKMG"});var U=Object(c.createContext)(null),H=w.a.auth(),K=w.a.firestore();i.a.render(Object(a.jsx)(U.Provider,{value:{firebase:w.a,auth:H,firestore:K},children:Object(a.jsx)(R,{})}),document.getElementById("root"))}},[[90,1,2]]]);
//# sourceMappingURL=main.582f3a17.chunk.js.map